import{S as te,i as se,s as ae,e as k,w as P,c as y,a as I,x as T,d as f,b as D,g as $,y as x,q as A,o as q,B,Z as le,V as H,a4 as M,k as b,m as E,a5 as W,t as F,h as R,l as K,a6 as ne,a7 as ie,Y as re,L as g}from"../../chunks/index-91d33c8b.js";import"../../chunks/HeaderSearch.svelte_svelte_type_style_lang-3d3e62a8.js";import{B as ue}from"../../chunks/Button-41ba37ef.js";import{F as oe}from"../../chunks/Form-29ef86bb.js";import{T as O,P as fe}from"../../chunks/PasswordInput-d7b33f09.js";import{L as pe}from"../../chunks/Link-b69fdce7.js";import{e as ce,a as Q,u as me,E as _e,f as $e}from"../../chunks/firebase-c7a26db2.js";import{g as de}from"../../chunks/navigation-0e6511d1.js";import"../../chunks/index-e1227db7.js";import"../../chunks/singletons-d1fb5791.js";function ve(r){let t;return{c(){t=F("Sign Up")},l(s){t=R(s,"Sign Up")},m(s,l){$(s,t,l)},d(s){s&&f(t)}}}function he(r){let t,s,l,n,u,a,i,p,m,z,c,U,v,w,d,o,h;function V(e){r[4](e)}let L={labelText:"Username",placeholder:"Enter your username",name:"username"};r[0]!==void 0&&(L.value=r[0]),t=new O({props:L}),H.push(()=>M(t,"value",V));function C(e){r[5](e)}let S={labelText:"Email address",placeholder:"Enter your email",type:"email",name:"email"};r[1]!==void 0&&(S.value=r[1]),a=new O({props:S}),H.push(()=>M(a,"value",C));function N(e){r[6](e)}let Y={tooltipAlignment:"start",tooltipPosition:"left",labelText:"Password",placeholder:"Enter password",name:"password"};return r[2]!==void 0&&(Y.value=r[2]),c=new fe({props:Y}),H.push(()=>M(c,"value",N)),o=new ue({props:{size:"small",$$slots:{default:[ve]},$$scope:{ctx:r}}}),o.$on("click",r[3]),{c(){P(t.$$.fragment),l=b(),n=k("div"),u=b(),P(a.$$.fragment),p=b(),m=k("div"),z=b(),P(c.$$.fragment),v=b(),w=k("div"),d=b(),P(o.$$.fragment),this.h()},l(e){T(t.$$.fragment,e),l=E(e),n=y(e,"DIV",{class:!0}),I(n).forEach(f),u=E(e),T(a.$$.fragment,e),p=E(e),m=y(e,"DIV",{class:!0}),I(m).forEach(f),z=E(e),T(c.$$.fragment,e),v=E(e),w=y(e,"DIV",{class:!0}),I(w).forEach(f),d=E(e),T(o.$$.fragment,e),this.h()},h(){D(n,"class","space svelte-1wntnpz"),D(m,"class","space svelte-1wntnpz"),D(w,"class","space svelte-1wntnpz")},m(e,_){x(t,e,_),$(e,l,_),$(e,n,_),$(e,u,_),x(a,e,_),$(e,p,_),$(e,m,_),$(e,z,_),x(c,e,_),$(e,v,_),$(e,w,_),$(e,d,_),x(o,e,_),h=!0},p(e,_){const Z={};!s&&_&1&&(s=!0,Z.value=e[0],W(()=>s=!1)),t.$set(Z);const j={};!i&&_&2&&(i=!0,j.value=e[1],W(()=>i=!1)),a.$set(j);const G={};!U&&_&4&&(U=!0,G.value=e[2],W(()=>U=!1)),c.$set(G);const J={};_&256&&(J.$$scope={dirty:_,ctx:e}),o.$set(J)},i(e){h||(A(t.$$.fragment,e),A(a.$$.fragment,e),A(c.$$.fragment,e),A(o.$$.fragment,e),h=!0)},o(e){q(t.$$.fragment,e),q(a.$$.fragment,e),q(c.$$.fragment,e),q(o.$$.fragment,e),h=!1},d(e){B(t,e),e&&f(l),e&&f(n),e&&f(u),B(a,e),e&&f(p),e&&f(m),e&&f(z),B(c,e),e&&f(v),e&&f(w),e&&f(d),B(o,e)}}}function ge(r){let t,s,l;return s=new oe({props:{$$slots:{default:[he]},$$scope:{ctx:r}}}),{c(){t=k("div"),P(s.$$.fragment),this.h()},l(n){t=y(n,"DIV",{class:!0});var u=I(t);T(s.$$.fragment,u),u.forEach(f),this.h()},h(){D(t,"class","form svelte-1wntnpz")},m(n,u){$(n,t,u),x(s,t,null),l=!0},p(n,[u]){const a={};u&263&&(a.$$scope={dirty:u,ctx:n}),s.$set(a)},i(n){l||(A(s.$$.fragment,n),l=!0)},o(n){q(s.$$.fragment,n),l=!1},d(n){n&&f(t),B(s)}}}function we(r,t,s){let l=le(),n,u,a;function i(){l("signup",{username:n,email:u,password:a})}function p(c){n=c,s(0,n)}function m(c){u=c,s(1,u)}function z(c){a=c,s(2,a)}return[n,u,a,i,p,m,z]}class be extends te{constructor(t){super();se(this,t,we,ge,ae,{})}}function X(r,t,s){const l=r.slice();return l[2]=t[s],l[4]=s,l}function Ee(r){let t=[],s=new Map,l,n=r[0];const u=a=>a[4];for(let a=0;a<n.length;a+=1){let i=X(r,n,a),p=u(i);s.set(p,t[a]=ee(p,i))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();l=K()},l(a){for(let i=0;i<t.length;i+=1)t[i].l(a);l=K()},m(a,i){for(let p=0;p<t.length;p+=1)t[p].m(a,i);$(a,l,i)},p(a,i){i&1&&(n=a[0],t=ne(t,i,u,1,a,n,s,l.parentNode,ie,ee,l,X))},d(a){for(let i=0;i<t.length;i+=1)t[i].d(a);a&&f(l)}}}function ee(r,t){let s,l,n=t[2]+"",u,a;return{key:r,first:null,c(){s=k("div"),l=k("p"),u=F(n),a=b(),this.h()},l(i){s=y(i,"DIV",{class:!0});var p=I(s);l=y(p,"P",{class:!0});var m=I(l);u=R(m,n),m.forEach(f),a=E(p),p.forEach(f),this.h()},h(){D(l,"class","svelte-ieuhvz"),D(s,"class","notification-block svelte-ieuhvz"),this.first=s},m(i,p){$(i,s,p),g(s,l),g(l,u),g(s,a)},p(i,p){t=i},d(i){i&&f(s)}}}function ke(r){let t;return{c(){t=F("Sign In")},l(s){t=R(s,"Sign In")},m(s,l){$(s,t,l)},d(s){s&&f(t)}}}function ye(r){let t,s,l,n,u,a,i,p,m,z,c,U,v,w,d=r[0]&&Ee(r);return m=new be({}),m.$on("signup",r[1]),v=new pe({props:{href:"/auth/login",$$slots:{default:[ke]},$$scope:{ctx:r}}}),{c(){t=b(),s=k("div"),l=k("div"),n=k("h4"),u=F("Sign Up"),a=b(),i=k("div"),d&&d.c(),p=b(),P(m.$$.fragment),z=b(),c=k("div"),U=F("Already have an account? "),P(v.$$.fragment),this.h()},l(o){re('[data-svelte="svelte-f1nrop"]',document.head).forEach(f),t=E(o),s=y(o,"DIV",{});var V=I(s);l=y(V,"DIV",{class:!0});var L=I(l);n=y(L,"H4",{class:!0});var C=I(n);u=R(C,"Sign Up"),C.forEach(f),L.forEach(f),a=E(V),i=y(V,"DIV",{class:!0});var S=I(i);d&&d.l(S),p=E(S),T(m.$$.fragment,S),z=E(S),c=y(S,"DIV",{class:!0});var N=I(c);U=R(N,"Already have an account? "),T(v.$$.fragment,N),N.forEach(f),S.forEach(f),V.forEach(f),this.h()},h(){document.title="Register",D(n,"class","svelte-ieuhvz"),D(l,"class","header svelte-ieuhvz"),D(c,"class","svelte-ieuhvz"),D(i,"class","form-container svelte-ieuhvz")},m(o,h){$(o,t,h),$(o,s,h),g(s,l),g(l,n),g(n,u),g(s,a),g(s,i),d&&d.m(i,null),g(i,p),x(m,i,null),g(i,z),g(i,c),g(c,U),x(v,c,null),w=!0},p(o,[h]){o[0]&&d.p(o,h);const V={};h&32&&(V.$$scope={dirty:h,ctx:o}),v.$set(V)},i(o){w||(A(m.$$.fragment,o),A(v.$$.fragment,o),w=!0)},o(o){q(m.$$.fragment,o),q(v.$$.fragment,o),w=!1},d(o){o&&f(t),o&&f(s),d&&d.d(),B(m),B(v)}}}function Ie(r){let t;async function s(l){try{let n=await ce(Q,l.detail.email,l.detail.password);await me(n.user,{displayName:l.detail.username}),await _e($e(Q.currentUser.uid),{username:n.user.displayName,email:n.user.email}),await de("/admin")}catch(n){console.log("error from creating user",n)}}return[t,s]}class Be extends te{constructor(t){super();se(this,t,Ie,ye,ae,{})}}export{Be as default};
